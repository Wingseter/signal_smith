# ===========================================
# Signal Smith — Environment Configuration
# ===========================================
# Copy to .env and fill in your values.
# Variable names MUST match backend/app/config.py fields.

# ── Required ──────────────────────────────

# Application
APP_NAME=signal_smith
APP_ENV=development          # development | production
DEBUG=true
SECRET_KEY=change-me-in-production   # production: must set a secure random value

# Database (MySQL HeatWave)
DATABASE_URL=mysql+aiomysql://admin:password@localhost:3306/signal_smith
DATABASE_SYNC_URL=mysql+pymysql://admin:password@localhost:3306/signal_smith

# Redis
REDIS_URL=redis://localhost:6379/0

# Kiwoom Securities REST API (https://openapi.kiwoom.com)
KIWOOM_APP_KEY=your-app-key
KIWOOM_SECRET_KEY=your-secret-key
KIWOOM_ACCOUNT_NUMBER=your-account-number
KIWOOM_ACCOUNT_PASSWORD=0000           # 모의투자 기본 비밀번호
KIWOOM_BASE_URL=https://mockapi.kiwoom.com
KIWOOM_WS_URL=wss://mockapi.kiwoom.com:10000
KIWOOM_IS_MOCK=true                    # true=모의투자, false=실전투자
KIWOOM_VERIFY_SSL=true                 # 모의투자 시 자동으로 false (config.py validator)

# ── AI API Keys (최소 1개 필수) ───────────

# OpenAI (퀀트 분석)
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4o-mini
# OPENAI_BASE_URL=                     # custom endpoint (optional)

# Anthropic (펀더멘털 분석)
ANTHROPIC_API_KEY=your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-opus-20240229
# ANTHROPIC_BASE_URL=                  # custom endpoint (optional)

# Google Gemini (뉴스 분석)
GOOGLE_API_KEY=your-google-api-key
GEMINI_MODEL=gemini-pro
# GOOGLE_BASE_URL=                     # custom endpoint (optional)

# ── Optional ──────────────────────────────

# DART API (금융감독원 전자공시 — https://opendart.fss.or.kr)
# DART_API_KEY=your-dart-api-key

# Tavily API (심층 분석)
# TAVILY_API_KEY=your-tavily-api-key

# News API
# NEWS_API_KEY=your-news-api-key

# Notifications
# SLACK_WEBHOOK_URL=your-slack-webhook-url
# TELEGRAM_BOT_TOKEN=your-telegram-bot-token
# TELEGRAM_CHAT_ID=your-telegram-chat-id

# CORS
# CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]

# ── Trading Settings ──────────────────────

TRADING_ENABLED=true
MAX_POSITION_SIZE=1000000              # 최대 포지션 크기 (원)

# Portfolio Risk Management
MIN_POSITION_PCT=8.0                   # 최소 포지션 크기 (총자산 대비 %)
MIN_CASH_RESERVE_PCT=5.0              # 최소 현금 보유 비율 (%)
MAX_POSITIONS=10                       # 최대 보유 종목 수

# 손절/익절 (GPT 값 없을 때 fallback)
STOP_LOSS_PERCENT=5.0
TAKE_PROFIT_PERCENT=20.0

# 손절/익절 안전 바운드 (GPT 값 clamp)
MIN_STOP_LOSS_PERCENT=3.0
MAX_STOP_LOSS_PERCENT=15.0
MIN_TAKE_PROFIT_PERCENT=5.0
MAX_TAKE_PROFIT_PERCENT=50.0

# ── Production Only ───────────────────────
# 실전투자 전환 시:
# APP_ENV=production
# DEBUG=false
# SECRET_KEY=<secure-random-64-char>
# KIWOOM_IS_MOCK=false
# KIWOOM_BASE_URL=https://api.kiwoom.com
# KIWOOM_WS_URL=wss://api.kiwoom.com:10000
# KIWOOM_VERIFY_SSL=true
